{
  "$schema": "https://schemas.openagents.network/mcp/2024-01-01.json",
  "name": "git-push-mcp",
  "version": "1.0.0",
  "description": "基于自然语言的代码提交MCP工具",
  "capabilities": {
    "tools": [
      {
        "name": "process_natural_language",
        "description": "处理自然语言Git命令，如'提交所有更改'、'推送代码'等",
        "inputSchema": {
          "type": "object",
          "properties": {
            "text": {
              "type": "string",
              "description": "自然语言Git命令，如'提交所有更改'、'查看状态'等"
            },
            "context": {
              "type": "object",
              "description": "执行上下文配置",
              "properties": {
                "autoStage": {
                  "type": "boolean",
                  "description": "是否自动添加文件到暂存区",
                  "default": true
                },
                "autoPush": {
                  "type": "boolean",
                  "description": "是否自动推送到远程仓库",
                  "default": false
                },
                "conventionalCommits": {
                  "type": "boolean",
                  "description": "是否使用约定式提交格式",
                  "default": true
                }
              }
            }
          },
          "required": ["text"]
        }
      },
      {
        "name": "get_git_status",
        "description": "获取Git仓库状态信息",
        "inputSchema": {
          "type": "object",
          "properties": {}
        }
      },
      {
        "name": "commit_changes",
        "description": "提交Git更改（支持自动推送）",
        "inputSchema": {
          "type": "object",
          "properties": {
            "message": {
              "type": "string",
              "description": "提交消息"
            },
            "files": {
              "type": "array",
              "items": {
                "type": "string"
              },
              "description": "要提交的文件列表"
            },
            "stageAll": {
              "type": "boolean",
              "description": "是否添加所有更改的文件",
              "default": true
            },
            "autoPush": {
              "type": "boolean",
              "description": "提交后是否自动推送到远程仓库",
              "default": false
            }
          },
          "required": ["message"]
        }
      },
      {
        "name": "push_changes",
        "description": "推送到远程仓库",
        "inputSchema": {
          "type": "object",
          "properties": {
            "remote": {
              "type": "string",
              "description": "远程仓库名称",
              "default": "origin"
            },
            "branch": {
              "type": "string",
              "description": "要推送的分支名称（留空则自动检测当前分支）"
            }
          }
        }
      }
    ],
    "resources": [],
    "prompts": []
  },
  "entry": {
    "type": "stdio",
    "command": "node",
    "args": ["C:\\workfile\\git-push\\mcp-server.js"]
  },
  "permissions": {
    "fileSystem": {
      "read": ["**/*"],
      "write": ["**/*"]
    },
    "process": {
      "execute": true
    }
  }
}